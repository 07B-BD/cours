import{_ as i,o as a,c as e,ag as n}from"./chunks/framework.CpVu2XTb.js";const t="/cours/assets/voir-donnees.CuO4_988.png",g=JSON.parse('{"title":"01 — Insert","description":"","frontmatter":{"title":"01 — Insert"},"headers":[],"relativePath":"modules/03-sql-base/01-insert.md","filePath":"modules/03-sql-base/01-insert.md"}'),l={name:"modules/03-sql-base/01-insert.md"};function p(h,s,r,k,E,d){return a(),e("div",null,[...s[0]||(s[0]=[n(`<h1 id="_01-—-manipulation-de-donnees-insertion" tabindex="-1">01 — Manipulation de données (insertion) <a class="header-anchor" href="#_01-—-manipulation-de-donnees-insertion" aria-label="Permalink to &quot;01 — Manipulation de données (insertion)&quot;">​</a></h1><h2 id="objectif" tabindex="-1">Objectif <a class="header-anchor" href="#objectif" aria-label="Permalink to &quot;Objectif&quot;">​</a></h2><ul><li>Insérer des données dans une base de données</li><li>Utiliser les valeurs par défaut</li><li>Insérer plusieurs lignes</li><li>Créer des données de test</li></ul><hr><h2 id="base-de-donnees-de-test-a-importer" tabindex="-1">Base de données de test à importer <a class="header-anchor" href="#base-de-donnees-de-test-a-importer" aria-label="Permalink to &quot;Base de données de test à importer&quot;">​</a></h2><div class="my-6 rounded-lg border border-yellow-300 bg-yellow-50 p-4 text-yellow-900"><strong>Attention</strong><br> Pour suivre les exemples de ce module, vous devez importer une <strong>base de données de test</strong>. <p><strong>Télécharger la base de données de test — Événements :</strong><br><a href="./../../databases/module_03_evenement_empty.sql" target="_blank" rel="noopener">Fichier .sql à télécharger</a></p></div><p>Le fichier contient la structure des tables de la démonstration :</p><ul><li><code>evenement</code></li><li><code>participant</code></li><li><code>inscription</code></li></ul><h3 id="importation" tabindex="-1">Importation <a class="header-anchor" href="#importation" aria-label="Permalink to &quot;Importation&quot;">​</a></h3><p>Téléchargez le fichier SQL, puis exécutez dans un invite de commandes :<br><strong>Changez le chemin d&#39;accès du fichier selon où vous l&#39;avez placé.</strong></p><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">psql</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -U</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> postgres</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -f</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &quot;C:\\Users\\Admin\\Desktop\\module_03_evenement_empty.sql&quot;</span></span></code></pre></div><hr><h2 id="utilite-de-insert" tabindex="-1">Utilité de INSERT <a class="header-anchor" href="#utilite-de-insert" aria-label="Permalink to &quot;Utilité de INSERT&quot;">​</a></h2><p>La commande <strong>INSERT</strong> permet d’ajouter des lignes dans une table d’une base de données.</p><p>Exemples d’utilisation :</p><ul><li>créer des données de test</li><li>remplir une base de données</li><li>simuler des scénarios réels</li></ul><hr><h2 id="syntaxe-de-base" tabindex="-1">Syntaxe de base <a class="header-anchor" href="#syntaxe-de-base" aria-label="Permalink to &quot;Syntaxe de base&quot;">​</a></h2><p>Insérer une ligne en <strong>nommant les colonnes</strong> :</p><div class="language-sql vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">sql</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">insert into</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> participant (nom, courriel, actif)  </span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">values</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> (</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;Thomas Jacobs&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;thomas.jacobs@example.com&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, true);</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">insert into</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> participant (nom, courriel)  </span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">values</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> (</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;Nina Patel&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;nina.patel@example.com&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">);</span></span></code></pre></div><div class="my-6 rounded-lg border border-blue-300 bg-blue-50 p-4 text-blue-900"><ul><li>Les <code>valeurs</code> sont écrites dans l&#39;ordre que les colonnes sont nommées.</li><li>Les valeurs par défaut ou autogénérées peuvent être omises (<code>id</code>, <code>actif</code>)</li></ul></div><div class="my-6 rounded-lg border border-blue-300 bg-blue-50 p-4 text-blue-900"><strong>Voir les données</strong><br> Pour le moment, pour voir les données, double-cliquez sur la table et allez dans l&#39;onglet \`données\` <img src="`+t+`" alt="voir donnnées" class="img-bordered"></div><hr><h2 id="integrite-referentielle" tabindex="-1">Intégrité référentielle <a class="header-anchor" href="#integrite-referentielle" aria-label="Permalink to &quot;Intégrité référentielle&quot;">​</a></h2><p>Lors qu&#39;on référence avec une clée étrangère, une exception sera levée si la valeur n&#39;existe pas dans la table référencée.</p><div class="language-sql vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">sql</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">insert into</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> inscription (evenement_id, participant_id, date_inscription)  </span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">values</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> (</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">2</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">1</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;2026-03-17&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">);</span></span></code></pre></div><div class="my-6 rounded-lg border border-yellow-300 bg-yellow-50 p-4 text-yellow-900"><strong>Attention</strong><br> Une exception pourrait levée. Pourquoi? Comment corriger?<br> Ajoutons ensemble une nouvelle inscription fonctionnelle. </div><hr><h2 id="insertion-de-plusieurs-lignes" tabindex="-1">Insertion de plusieurs lignes <a class="header-anchor" href="#insertion-de-plusieurs-lignes" aria-label="Permalink to &quot;Insertion de plusieurs lignes&quot;">​</a></h2><div class="language-sql vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">sql</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">insert into</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> evenement (nom, date_evenement, lieu, capacite)</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">values</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  (</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;Soirée jeux de société&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;2026-03-15&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;Cafétéria&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">80</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">),</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  (</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;Conférence cybersécurité&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;2026-03-22&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;Amphi B&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">150</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">),</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  (</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;Atelier introduction au SQL&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;2026-03-29&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;Local C-101&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">30</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">);</span></span></code></pre></div><hr><h2 id="donnees-de-test-et-ia" tabindex="-1">Données de test et IA <a class="header-anchor" href="#donnees-de-test-et-ia" aria-label="Permalink to &quot;Données de test et IA&quot;">​</a></h2><p>L’IA peut aider à générer des <strong>données de test</strong>, à condition de respecter :</p><ul><li>les contraintes d’unicité</li><li>les clés étrangères</li><li>les valeurs obligatoires</li><li>respecter des contraintes venant du professeur / client</li></ul><p>De plus :</p><ul><li>les données doivent être réalistes</li><li>cette méthode est réservée <strong>uniquement au développement</strong></li></ul><hr><h3 id="principe-general" tabindex="-1">Principe général <a class="header-anchor" href="#principe-general" aria-label="Permalink to &quot;Principe général&quot;">​</a></h3><p>La génération des données se fait en <strong>deux étapes</strong> :</p><ol><li>Générer les données pour les tables <strong>sans clés étrangères</strong></li><li>Générer ensuite les données pour les tables <strong>avec clés étrangères</strong>, en se basant sur les clés primaires réellement créées par PostgreSQL</li></ol><hr><div class="my-6 rounded-lg border border-yellow-300 bg-yellow-50 p-4 text-yellow-900"><strong>Important</strong><br> Il est impossible de savoir à l’avance quelles valeurs de clés primaires seront générées par PostgreSQL.<br> Elles ne sont <strong>pas nécessairement</strong> 1, 2, 3, 4, 5, etc.<br><br> Les requêtes INSERT qui utilisent des clés étrangères doivent donc être générées <strong>après</strong> l’insertion des premières données. </div><hr><h3 id="exemple-de-requetes-a-envoyer-a-l-ia" tabindex="-1">Exemple de requêtes à envoyer à l’IA <a class="header-anchor" href="#exemple-de-requetes-a-envoyer-a-l-ia" aria-label="Permalink to &quot;Exemple de requêtes à envoyer à l’IA&quot;">​</a></h3><h4 id="premiere-requete-—-tables-sans-cles-etrangeres" tabindex="-1">Première requête — tables sans clés étrangères <a class="header-anchor" href="#premiere-requete-—-tables-sans-cles-etrangeres" aria-label="Permalink to &quot;Première requête — tables sans clés étrangères&quot;">​</a></h4><p>Copiez le <a href="./../02-ddl-base/05-demo-ddl#demo-ddl-code"><strong>script de création des tables</strong></a><br> (ou un export SQL de votre base de données), puis envoyez la requête suivante à l’IA :</p><div class="language-text vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">text</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>À partir du script de création des tables fourni, génère des INSERT SQL pour PostgreSQL</span></span>
<span class="line"><span>uniquement pour les tables sans clés étrangères.</span></span>
<span class="line"><span></span></span>
<span class="line"><span>Contraintes :</span></span>
<span class="line"><span>- respecter toutes les contraintes définies (NOT NULL, UNIQUE, CHECK, DEFAULT)</span></span>
<span class="line"><span>- générer des données réalistes</span></span>
<span class="line"><span>- ne pas inclure de CREATE TABLE</span></span>
<span class="line"><span>- retourner uniquement le SQL prêt à être exécuté</span></span></code></pre></div><details><summary>Exemple de réponse</summary><div class="language-sql vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">sql</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">INSERT INTO</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> evenement (nom, date_evenement, lieu, capacite, actif) </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">VALUES</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;Conférence Tech 2026&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;2026-03-15&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;Paris&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">300</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, true),</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;Atelier Data Science&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;2026-04-02&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;Lyon&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">40</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, true),</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;Salon de l&#39;&#39;Entrepreneuriat&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;2026-05-20&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;Marseille&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">500</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, true),</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;Meetup Développement Web&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;2026-02-10&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;Toulouse&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">80</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, true),</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;Formation Cybersécurité&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;2026-06-05&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;Lille&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">25</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, false);</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">INSERT INTO</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> participant (nom, courriel, actif) </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">VALUES</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;Alice Martin&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;alice.martin@example.com&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, true),</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;Bruno Lefèvre&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;bruno.lefevre@example.com&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, true),</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;Camille Dupont&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;camille.dupont@example.com&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, true),</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;David Moreau&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;david.moreau@example.com&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, true),</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;Emma Girard&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;emma.girard@example.com&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, false),</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;François Bernard&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;francois.bernard@example.com&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, true),</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;Julie Petit&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;julie.petit@example.com&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, true);</span></span></code></pre></div></details><h4 id="deuxieme-requete-—-tables-avec-cles-etrangeres" tabindex="-1">Deuxième requête — tables avec clés étrangères <a class="header-anchor" href="#deuxieme-requete-—-tables-avec-cles-etrangeres" aria-label="Permalink to &quot;Deuxième requête — tables avec clés étrangères&quot;">​</a></h4><p>Une fois les premières données insérées, envoyez une seconde requête :</p><div class="language-text vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">text</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>Voici les clées primaires générées pour les tables événement et participant dans ma base de données PostgreSQL.</span></span>
<span class="line"><span>À partir des clés primaires réellement générées, génère des INSERT SQL</span></span>
<span class="line"><span>pour les tables contenant des clés étrangères.</span></span>
<span class="line"><span></span></span>
<span class="line"><span>Contraintes :</span></span>
<span class="line"><span>- utiliser uniquement des clés primaires existantes</span></span>
<span class="line"><span>- respecter toutes les contraintes (FK, UNIQUE, NOT NULL)</span></span>
<span class="line"><span>- ne pas générer de doublons</span></span>
<span class="line"><span>- retourner uniquement le SQL prêt à être exécuté</span></span></code></pre></div><details><summary>Exemple de réponse</summary><div class="language-sql vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">sql</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">INSERT INTO</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> inscription (evenement_id, participant_id, date_inscription) </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">VALUES</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">1</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">1</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;2026-01-10&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">),</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">1</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">2</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;2026-01-12&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">),</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">1</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">3</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;2026-01-15&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">),</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">2</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">2</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;2026-02-01&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">),</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">2</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">4</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;2026-02-02&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">),</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">3</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">1</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;2026-03-05&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">),</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">3</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">5</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;2026-03-06&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">),</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">3</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">6</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;2026-03-07&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">),</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">4</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">3</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;2026-01-25&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">),</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">4</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">4</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;2026-01-26&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">),</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">4</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">7</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;2026-01-27&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">),</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">5</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">2</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;2026-04-01&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">),</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">5</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">6</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;2026-04-02&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">);</span></span></code></pre></div></details><h4 id="bon-reflexe" tabindex="-1">Bon réflexe <a class="header-anchor" href="#bon-reflexe" aria-label="Permalink to &quot;Bon réflexe&quot;">​</a></h4><p>Commencer par un petit jeu de données</p><p>Insérer les données table par table</p><p>Valider avec des requêtes SELECT</p><p>Ajuster les requêtes IA au besoin</p><div class="my-6 rounded-lg border border-yellow-300 bg-yellow-50 p-4 text-yellow-900"><strong>Attention</strong><br> Exécutez uniquement du code que vous comprenez et que nous avons vu en classe. </div>`,58)])])}const c=i(l,[["render",p]]);export{g as __pageData,c as default};
